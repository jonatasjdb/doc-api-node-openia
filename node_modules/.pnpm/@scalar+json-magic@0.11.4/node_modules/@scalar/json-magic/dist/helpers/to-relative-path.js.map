{
  "version": 3,
  "sources": ["../../src/helpers/to-relative-path.ts"],
  "sourcesContent": ["import path from 'pathe'\n\nimport { isHttpUrl } from '@/helpers/is-http-url'\n\n/**\n * Converts an input path or URL to a relative path based on the provided base.\n * Handles both remote URLs and local file system paths.\n * - If both input and base are remote URLs and share the same origin, computes the relative pathname.\n * - If base is a remote URL but input is local, returns a remote URL with a relative pathname.\n * - If input is a remote URL but base is local, returns input as is.\n * - Otherwise, computes the relative path between two local paths.\n */\nexport const toRelativePath = (input: string, base: string) => {\n  // Both input and base are remote URLs\n  if (isHttpUrl(input) && isHttpUrl(base)) {\n    const inputUrl = new URL(input)\n    const baseUrl = new URL(base)\n    // If origins aren't the same, return input as is\n    if (inputUrl.origin !== baseUrl.origin) {\n      return input\n    }\n\n    // Get the directory of the base URL pathname (not the file itself)\n    const baseDir = path.dirname(path.posix.resolve('/', baseUrl.pathname))\n    const inputPath = path.posix.resolve('/', inputUrl.pathname)\n    // Return the relative path from baseDir to inputPath\n    return path.posix.relative(baseDir, inputPath)\n  }\n\n  // Base is a remote URL, input is a local path\n  if (isHttpUrl(base)) {\n    const baseUrl = new URL(base)\n    const baseDir = path.dirname(path.posix.resolve('/', baseUrl.pathname))\n    // Set the pathname of the base URL to the relative path and return the URL as a string\n    baseUrl.pathname = path.posix.relative(baseDir, path.posix.resolve('/', input))\n    return baseUrl.toString()\n  }\n\n  // Input is a remote URL, base is a local path; just return input\n  if (isHttpUrl(input)) {\n    return input\n  }\n\n  // Both input and base are local paths; return the relative path\n  const baseDir = path.dirname(path.resolve(base))\n  const inputPath = path.resolve(input)\n  return path.relative(baseDir, inputPath)\n}\n"],
  "mappings": "AAAA,OAAO,UAAU;AAEjB,SAAS,iBAAiB;AAUnB,MAAM,iBAAiB,CAAC,OAAe,SAAiB;AAE7D,MAAI,UAAU,KAAK,KAAK,UAAU,IAAI,GAAG;AACvC,UAAM,WAAW,IAAI,IAAI,KAAK;AAC9B,UAAM,UAAU,IAAI,IAAI,IAAI;AAE5B,QAAI,SAAS,WAAW,QAAQ,QAAQ;AACtC,aAAO;AAAA,IACT;AAGA,UAAMA,WAAU,KAAK,QAAQ,KAAK,MAAM,QAAQ,KAAK,QAAQ,QAAQ,CAAC;AACtE,UAAMC,aAAY,KAAK,MAAM,QAAQ,KAAK,SAAS,QAAQ;AAE3D,WAAO,KAAK,MAAM,SAASD,UAASC,UAAS;AAAA,EAC/C;AAGA,MAAI,UAAU,IAAI,GAAG;AACnB,UAAM,UAAU,IAAI,IAAI,IAAI;AAC5B,UAAMD,WAAU,KAAK,QAAQ,KAAK,MAAM,QAAQ,KAAK,QAAQ,QAAQ,CAAC;AAEtE,YAAQ,WAAW,KAAK,MAAM,SAASA,UAAS,KAAK,MAAM,QAAQ,KAAK,KAAK,CAAC;AAC9E,WAAO,QAAQ,SAAS;AAAA,EAC1B;AAGA,MAAI,UAAU,KAAK,GAAG;AACpB,WAAO;AAAA,EACT;AAGA,QAAM,UAAU,KAAK,QAAQ,KAAK,QAAQ,IAAI,CAAC;AAC/C,QAAM,YAAY,KAAK,QAAQ,KAAK;AACpC,SAAO,KAAK,SAAS,SAAS,SAAS;AACzC;",
  "names": ["baseDir", "inputPath"]
}
